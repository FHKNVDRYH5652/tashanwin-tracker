<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Sureshot Prediction Portal</title>
<style>
body {
  margin:0;
  font-family:'Roboto','Segoe UI',sans-serif;
  background:#000;
  color:#00ffcc;
  text-align:center;
  overflow-x:hidden;
}
header {
  padding:20px;
  font-size:2em;
  text-shadow:0 0 10px #00ffcc;
  font-weight:bold;
}
.screen {display:none; padding:20px; min-height:80vh;}
.screen.active {display:block; animation:fadeIn 0.6s;}
@keyframes fadeIn {from{opacity:0; transform:scale(0.95);} to{opacity:1; transform:scale(1);}}
.card {
  background: rgba(0,0,0,0.8);
  border:1px solid #00ffcc;
  border-radius:16px;
  padding:30px;
  margin:30px auto;
  max-width:520px;
  box-shadow:0 0 20px #00ffcc,0 0 40px #00ffcc inset;
}
.btn {
  padding:14px 26px;
  margin:12px;
  border:none;
  border-radius:10px;
  background:#00ffcc;
  color:#000;
  font-size:1.1em;
  cursor:pointer;
  font-weight:bold;
  box-shadow:0 0 15px #00ffcc;
  transition:0.3s;
}
.btn:hover {
  transform:scale(1.05);
  box-shadow:0 0 30px #00ffcc,0 0 60px #00ffcc inset;
}
.qr {
  width:250px;
  margin:20px auto;
  display:block;
  border-radius:12px;
  box-shadow:0 0 25px #00ffcc;
}
#wheel {
  width:340px; height:340px; border-radius:50%;
  margin:25px auto; border:14px solid #00ffcc;
  box-shadow:0 0 30px #00ffcc;
  transition: transform 5s cubic-bezier(.17,.67,.83,.67);
}
.arrow {
  width:0; height:0; border-left:22px solid transparent;
  border-right:22px solid transparent; border-bottom:35px solid yellow;
  margin:0 auto;
}
#payNowBtn {
  padding:14px 28px;
  background:#000;
  border:2px solid #00ffcc;
  color:#00ffcc;
  font-size:1.2em;
  font-weight:bold;
  border-radius:12px;
  cursor:pointer;
  box-shadow:0 0 15px #00ffcc,0 0 40px #00ffcc inset;
  transition:0.3s;
}
#payNowBtn:hover {
  background:#00ffcc;
  color:#000;
  box-shadow:0 0 30px #00ffcc,0 0 60px #00ffcc inset;
}
body::before{
  content:"";
  position:fixed;
  top:0; left:0; right:0; bottom:0;
  background:linear-gradient(270deg,#00ffcc, #000, #00ffcc, #000);
  background-size:400% 400%;
  z-index:-1;
  animation:bgAnim 20s linear infinite;
}
@keyframes bgAnim{
  0%{background-position:0% 50%;}
  50%{background-position:100% 50%;}
  100%{background-position:0% 50%;}
}
input {
  padding:14px;
  width:80%;
  border:none;
  border-radius:10px;
  margin-top:18px;
  font-size:1em;
  text-align:center;
  background:rgba(255,255,255,0.1);
  color:#00ffcc;
}
</style>
</head>
<body>
<header>Sureshot Prediction Portal</header>

<div id="home" class="screen active">
  <div class="card">
    <h2>Welcome</h2>
    <button class="btn" onclick="showScreen('pay500')">Pay ₹500 Unlock</button>
    <button class="btn" onclick="showScreen('spinPay')">Try Spin ₹25</button>
  </div>
</div>

<div id="pay500" class="screen">
  <div class="card">
    <h2 id="payTitle">Scan & Pay ₹500</h2>
    <img src="https://api.qrserver.com/v1/create-qr-code/?size=250x250&data=upi://pay?pa=perfect.k@ptaxis&pn=Shakti&am=500&cu=INR" class="qr" alt="QR Code">
    <button id="payNowBtn" onclick="payUPI()">PAY NOW</button>
    <input type="text" id="utr500" maxlength="12" placeholder="Enter 12-digit UTR">
    <button class="btn" onclick="unlock()">Confirm</button>
  </div>
</div>

<div id="spinPay" class="screen">
  <div class="card">
    <h2>Pay ₹25 to Spin</h2>
    <img src="https://api.qrserver.com/v1/create-qr-code/?size=250x250&data=upi://pay?pa=perfect.k@ptaxis&pn=Shakti&am=25&cu=INR" class="qr" alt="QR Code">
    <button id="payNowBtn25" onclick="payUPI25()">PAY NOW</button>
    <input type="text" id="utr25" maxlength="12" placeholder="Enter 12-digit UTR">
    <button class="btn" onclick="confirmSpinPay()">Confirm</button>
  </div>
</div>

<div id="spin" class="screen">
  <div class="card">
    <h2>Spin the Wheel</h2>
    <div class="arrow"></div>
    <canvas id="wheel" width="340" height="340"></canvas>
    <button class="btn" onclick="spinWheel()">SPIN</button>
    <p id="spinResult"></p>
  </div>
</div>

<div id="predict" class="screen">
  <div class="card">
    <h2>Enter Period</h2>
    <input type="text" id="period" maxlength="3" placeholder="e.g., 256">
    <button class="btn" onclick="predict()">Get Prediction</button>
    <div id="prediction" style="margin-top:20px;font-size:1.6em;text-shadow:0 0 14px #00ffcc;"></div>
  </div>
</div>

<script>
let unlocked=false;
let spinning=false;
let currentRotation=0;
let payAmount=500;
let usedUTRs = []; // Store used UTRs

const wheelCanvas=document.getElementById('wheel');
const ctx=wheelCanvas.getContext('2d');
const offers=['Free Unlock','25% Off','50% Off','90% Off','Better Luck'];
const colors=['#ff7675','#74b9ff','#55efc4','#ffeaa7','#a29bfe'];

function drawWheel() {
  const arc=Math.PI*2/offers.length;
  for(let i=0;i<offers.length;i++) {
    ctx.beginPath();
    ctx.fillStyle=colors[i];
    ctx.moveTo(170,170);
    ctx.arc(170,170,170,i*arc,(i+1)*arc);
    ctx.fill();
    ctx.save();
    ctx.translate(170,170);
    ctx.rotate(i*arc+arc/2);
    ctx.fillStyle="#000";
    ctx.font="bold 16px Roboto";
    ctx.textAlign="right";
    ctx.fillText(offers[i],150,10);
    ctx.restore();
  }
}
drawWheel();

function showScreen(id){
  document.querySelectorAll('.screen').forEach(s=>s.classList.remove('active'));
  document.getElementById(id).classList.add('active');
}

function unlock(){
  let utrInput=document.getElementById('utr500');
  let utr=utrInput.value.trim();
  if(!/^[0-9]{12}$/.test(utr)){alert('Enter valid 12-digit UTR'); return;}
  if(usedUTRs.includes(utr)){alert('This UTR has already been used! Enter a new one.'); return;}
  usedUTRs.push(utr);
  unlocked=true;
  showScreen('predict');
}

function confirmSpinPay(){
  let utrInput=document.getElementById('utr25');
  let utr=utrInput.value.trim();
  if(!/^[0-9]{12}$/.test(utr)){alert('Enter valid 12-digit UTR'); return;}
  if(usedUTRs.includes(utr)){alert('This UTR has already been used! Enter a new one.'); return;}
  usedUTRs.push(utr);
  showScreen('spin');
}

function payUPI(){
  let upiLink=`upi://pay?pa=perfect.k@ptaxis&pn=Shakti&am=${payAmount}&cu=INR`;
  window.location.href=upiLink;
}
function payUPI25(){
  let upiLink=`upi://pay?pa=perfect.k@ptaxis&pn=Shakti&am=25&cu=INR`;
  window.location.href=upiLink;
}

function updateUPILink(amount){
  payAmount=amount;
  document.querySelector('#pay500 .qr').src=`https://api.qrserver.com/v1/create-qr-code/?size=250x250&data=${encodeURIComponent(`upi://pay?pa=perfect.k@ptaxis&pn=Shakti&am=${amount}&cu=INR`)}`;
}

function spinWheel(){
  if(spinning) return;
  spinning=true;
  let arc=360/offers.length;
  let sector=Math.floor(Math.random()*offers.length);
  let stopAngle=sector*arc+360*5+Math.random()*arc;
  currentRotation+=stopAngle;
  wheelCanvas.style.transform=`rotate(${currentRotation}deg)`;
  setTimeout(()=>{
    let res=offers[sector];
    document.getElementById('spinResult').innerText='Result: '+res;
    if(res==='Free Unlock') {
      unlocked=true;
      showScreen('predict');
    } else if(res==='25% Off') {
      updateUPILink(375);
      document.getElementById('payTitle').innerText='Scan & Pay ₹375';
      showScreen('pay500');
    } else if(res==='50% Off') {
      updateUPILink(250);
      document.getElementById('payTitle').innerText='Scan & Pay ₹250';
      showScreen('pay500');
    } else if(res==='90% Off') {
      updateUPILink(50);
      document.getElementById('payTitle').innerText='Scan & Pay ₹50';
      showScreen('pay500');
    } else {
      alert('Better Luck Next Time!');
      showScreen('home');
    }
    spinning=false;
  },5000);
}

function predict(){
  if(!unlocked){alert('Unlock first'); return;}
  let period=document.getElementById('period').value;
  if(!/^[0-9]{3}$/.test(period)){alert('Enter last 3 digits'); return;}
  let pred=Math.random()<0.5?'BIG':'SMALL';
  document.getElementById('prediction').innerText='Period '+period+': '+pred;
}
</script>
</body>
</html>
