<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>MrPerfect Predictor</title>
  <style>
    body {
      margin: 0;
      font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
      background-color: #0a0a0a;
      color: #00ffcc;
      display: flex;
      flex-direction: column;
      align-items: center;
      justify-content: center;
      min-height: 100vh;
    }
    .login, .container {
      background: #111;
      padding: 20px;
      border-radius: 12px;
      box-shadow: 0 0 10px #00ffcc;
    }
    .hidden {
      display: none;
    }
    input[type="text"] {
      padding: 10px;
      border-radius: 5px;
      border: none;
      outline: none;
      width: 200px;
    }
    button {
      background: #00ffcc;
      color: black;
      border: none;
      padding: 10px 20px;
      margin: 5px;
      border-radius: 5px;
      cursor: pointer;
    }
    .result {
      margin-top: 20px;
      font-size: 1.2em;
      color: #ffffff;
    }
    .feedback button {
      background-color: #222;
      color: #00ffcc;
      border: 2px solid #00ffcc;
    }
  </style>
</head>
<body>
  <div class="login" id="loginBox">
    <h2>Enter Access Key</h2>
    <input type="text" id="keyInput" placeholder="Enter Key" />
    <button onclick="checkKey()">Unlock</button>
  </div>

  <div class="hidden" id="telegramBox">
    <h3>ðŸ“¢ Join Our Telegram!</h3>
    <a href="https://t.me/+hzN8Ci0F7aYzMmY9" target="_blank">ðŸ‘‰ Join Channel</a><br />
    <button onclick="skipTelegram()">Skip</button>
  </div>

  <div class="hidden container" id="mainApp">
    <h1>MrPerfect AI Prediction</h1>
    <p>Select 5 Past Results:</p>
    <div id="numberButtons"></div>
    <p>Selected: <span id="selected"></span></p>
    <button onclick="makePrediction()">Predict</button>
    <div class="result" id="predictionResult"></div>
    <div class="feedback hidden" id="feedback">
      <p>Did this prediction win or lose?</p>
      <button onclick="handleFeedback(true)">Win</button>
      <button onclick="handleFeedback(false)">Loss</button>
    </div>
  </div>

  <audio id="winSound" src="https://www.soundjay.com/human/sounds/applause-8.mp3"></audio>
  <audio id="loseSound" src="https://www.soundjay.com/human/sounds/sad-trombone-01.mp3"></audio>

  <script>
    const KEY = 'Mrperfect456';
    const selected = [];
    const numberButtons = document.getElementById('numberButtons');
    const selectedDisplay = document.getElementById('selected');
    const resultBox = document.getElementById('predictionResult');

    for (let i = 0; i <= 9; i++) {
      const btn = document.createElement('button');
      btn.innerText = i;
      btn.onclick = () => {
        if (selected.length === 5) {
          selected.length = 0;
        }
        selected.push(i);
        selectedDisplay.innerText = selected.join(', ');
      };
      numberButtons.appendChild(btn);
    }

    function checkKey() {
      const input = document.getElementById('keyInput').value;
      if (input === KEY) {
        document.getElementById('loginBox').classList.add('hidden');
        document.getElementById('telegramBox').classList.remove('hidden');
      } else {
        alert('Incorrect Key');
      }
    }

    function skipTelegram() {
      document.getElementById('telegramBox').classList.add('hidden');
      document.getElementById('mainApp').classList.remove('hidden');
    }

    function makePrediction() {
      if (selected.length !== 5) {
        alert('Please select exactly 5 numbers.');
        return;
      }

      const big = selected.filter(n => n >= 5).length;
      const small = selected.filter(n => n < 5).length;

      let prediction = '';
      let reason = '';
      let confidence = 50;
      let numbers = [...selected];

      if (big > small) {
        prediction = 'Small';
        confidence = 60;
        reason = 'Opposite of human pattern and trend reversal logic applied.';
      } else if (small > big) {
        prediction = 'Big';
        confidence = 60;
        reason = 'Trend and frequency suggest Big. Applying pattern logic.';
      } else {
        prediction = 'Small';
        confidence = 52;
        reason = 'Equal distribution. Small is selected due to recent loss recovery logic.';
      }

      const top2 = numbers.sort((a,b) => numbers.filter(v => v === b).length - numbers.filter(v => v === a).length).slice(0,2);

      resultBox.innerHTML = `
        ðŸ”® Prediction: <b>${prediction}</b><br />
        ðŸŽ¯ Numbers Likely: <b>${top2.join(', ')}</b><br />
        ðŸ“ˆ Confidence: <b>${confidence}%</b><br />
        ðŸ’¡ Reason: ${reason}
      `;
      document.getElementById('feedback').classList.remove('hidden');
    }

    function handleFeedback(win) {
      if (win) {
        document.getElementById('winSound').play();
        resultBox.innerHTML += '<br><b>ðŸŽ‰ Jalwa hai MrPerfect ka!</b>';
      } else {
        document.getElementById('loseSound').play();
        resultBox.innerHTML += '<br><b>ðŸ˜” Donâ€™t worry, next time will be better. AI is improving.</b>';
      }
      selected.length = 0;
      selectedDisplay.innerText = '';
      document.getElementById('feedback').classList.add('hidden');
    }
  </script>
</body>
</html>
